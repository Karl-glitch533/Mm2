-- Vanxell Hub for Murder Mystery 2

-- Loading Screen
local LoadingGui = Instance.new("ScreenGui")
LoadingGui.Name = "LoadingGui"
LoadingGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

local LoadingFrame = Instance.new("Frame")
LoadingFrame.Size = UDim2.new(0, 400, 0, 150)
LoadingFrame.Position = UDim2.new(0.5, -200, 0.5, -75)
LoadingFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
LoadingFrame.BorderSizePixel = 0
LoadingFrame.Parent = LoadingGui

local LoadingText = Instance.new("TextLabel")
LoadingText.Text = "Loading Vanxell Hub"
LoadingText.Font = Enum.Font.SourceSansBold
LoadingText.Size = UDim2.new(1, 0, 1, -20)
LoadingText.Position = UDim2.new(0, 0, 0, 0)
LoadingText.TextColor3 = Color3.fromRGB(255, 255, 255)
LoadingText.BackgroundTransparency = 1
LoadingText.TextScaled = true
LoadingText.Parent = LoadingFrame

-- Loading Animation
local dotCount = 0
spawn(function()
    while wait(0.5) do
        dotCount = (dotCount + 1) % 4
        LoadingText.Text = "Loading Vanxell Hub" .. string.rep(".", dotCount)
    end
end)

-- Remove loading screen after delay
wait(3)
LoadingGui:Destroy()

-- Main GUI Setup
local VanxellHub = Instance.new("ScreenGui")
VanxellHub.Name = "VanxellHub"
VanxellHub.Parent = game.CoreGui

local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 400, 0, 300)
MainFrame.Position = UDim2.new(0.5, -200, 0.5, -150)
MainFrame.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
MainFrame.Parent = VanxellHub

local Title = Instance.new("TextLabel")
Title.Text = "Vanxell Hub - Murder Mystery 2"
Title.Size = UDim2.new(1, 0, 0, 50)
Title.Position = UDim2.new(0, 0, 0, 0)
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.BackgroundTransparency = 1
Title.TextScaled = true
Title.Parent = MainFrame

-- Toggle Open/Close GUI Button
local OpenCloseButton = Instance.new("TextButton")
OpenCloseButton.Text = "Close GUI"
OpenCloseButton.Size = UDim2.new(0, 100, 0, 30)
OpenCloseButton.Position = UDim2.new(0, 10, 0, 10)
OpenCloseButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
OpenCloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
OpenCloseButton.Parent = MainFrame
OpenCloseButton.MouseButton1Click:Connect(function()
    MainFrame.Visible = not MainFrame.Visible
    if MainFrame.Visible then
        OpenCloseButton.Text = "Close GUI"
    else
        OpenCloseButton.Text = "Open GUI"
    end
end)

-- Function to create toggle buttons
local function CreateToggleButton(name, callback)
    local Button = Instance.new("TextButton")
    Button.Text = name
    Button.Size = UDim2.new(0.9, 0, 0, 40)
    Button.Position = UDim2.new(0.05, 0, #MainFrame:GetChildren() * 0.12, 0)
    Button.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    Button.TextColor3 = Color3.fromRGB(255, 255, 255)
    Button.Parent = MainFrame
    Button.MouseButton1Click:Connect(callback)
end

-- Auto Collect Candy
local autoCandy = false
CreateToggleButton("Toggle Auto Candy", function()
    autoCandy = not autoCandy
    if autoCandy then
        -- Implement candy collection code here
        -- Sample: Teleport to candies and collect them
    end
end)

-- Highlight Murderer and Sheriff
local highlightEnabled = false
CreateToggleButton("Identify Murderer/Sheriff", function()
    highlightEnabled = not highlightEnabled
    if highlightEnabled then
        -- Implement visual identification code here
        -- Example: Add red/blue highlights on murderer/sheriff
    end
end)

-- Auto Shoot Button for Sheriff
local autoShoot = false
CreateToggleButton("Toggle Auto Shoot", function()
    autoShoot = not autoShoot
    if autoShoot then
        -- Implement auto shoot code here
    end
end)

-- Reset Button
local ResetButton = Instance.new("TextButton")
ResetButton.Text = "Reset"
ResetButton.Size = UDim2.new(0.9, 0, 0, 40)
ResetButton.Position = UDim2.new(0.05, 0, 0.9, 0)
ResetButton.BackgroundColor3 = Color3.fromRGB(255, 60, 60)
ResetButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ResetButton.Parent = MainFrame
ResetButton.MouseButton1Click:Connect(function()
    game.Players.LocalPlayer.Character:BreakJoints() -- Reset character
end)
